# Валера в пещере - Flask приложение

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python app.py
```

3. Откройте браузер и перейдите по адресу: `http://localhost:5000`

## Структура проекта

- `app.py` - основной файл Flask приложения
- `templates/` - HTML шаблоны
  - `base.html` - базовый шаблон
  - `game.html` - страница игры для класса
  - `rating.html` - страница рейтинга классов
  - `admin/` - панель администратора
    - `classes.html` - управление классами
    - `prizes.html` - управление призами
- `static/` - статические файлы (CSS, JS, изображения)
- `valera.db` - база данных SQLite (создается автоматически)

## Функциональность

### Панель администратора

1. **Управление классами** (`/admin/classes`):
   - Добавление новых классов
   - Редактирование названия и балансов классов
   - Удаление классов

2. **Управление призами** (`/admin/prizes`):
   - Добавление/редактирование/удаление призов для лавки Валеры
   - Добавление/редактирование/удаление призов для лавки учащихся

### Страницы

1. **Рейтинг классов** (`/`) - отображает все классы, отсортированные по общему балансу
2. **Страница игры** (`/class/<id>`) - игровая страница для конкретного класса

## API

- `GET /api/class/<id>/balance` - получить баланс класса
- `POST /api/class/<id>/balance` - обновить баланс класса
- `GET /api/classes` - получить список классов
- `POST /api/classes` - создать класс
- `PUT /api/classes/<id>` - обновить класс
- `DELETE /api/classes/<id>` - удалить класс
- `GET /api/prizes` - получить список призов
- `POST /api/prizes` - создать приз
- `PUT /api/prizes/<id>` - обновить приз
- `DELETE /api/prizes/<id>` - удалить приз

